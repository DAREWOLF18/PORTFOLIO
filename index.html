<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portfolio - K M VENKATACHALAM</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet" />
  <style>
    body { margin: 0; }
    /* Typing effect */
    .typing { border-right: 2px solid white; white-space: nowrap; overflow: hidden; animation: typing 3s steps(30, end), blink 0.6s infinite; }
    @keyframes typing { from { width: 0 } to { width: 100% } }
    @keyframes blink { 50% { border-color: transparent } }

    /* Scroll animations */
    .fade-in { opacity: 0; transform: translateY(30px); transition: all 1s ease; }
    .fade-in.visible { opacity: 1; transform: translateY(0); }
    .zoom-in { opacity: 0; transform: scale(0.9); transition: all 1s ease; }
    .zoom-in.visible { opacity: 1; transform: scale(1); }

    /* Modal */
    .modal { display: none; position: fixed; z-index: 50; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.95); align-items: center; justify-content: center; flex-direction: column; }
    .close { position: absolute; top: 20px; right: 40px; color: white; font-size: 40px; font-weight: bold; cursor: pointer; z-index: 60; }
    #pdfCanvas { border-radius: 8px; cursor: grab; }

    /* Skill bar animation */
    .skill-bar { width: 0%; height: 1rem; background-color: white; border-radius: 0.25rem; transition: width 1.5s ease-in-out; }

    /* Gradient background for hero */
    @keyframes gradientBackground { 0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;} }
    .animate-gradientBackground { background: linear-gradient(270deg,#1E3A8A,#000000,#ffffff); background-size: 400% 400%; animation: gradientBackground 15s ease infinite; }
  </style>
</head>
<body class="bg-black text-white font-sans">

  <!-- Hero Section -->
  <section class="h-screen flex flex-col items-center justify-center text-center relative overflow-hidden">
    <div class="absolute inset-0 animate-gradientBackground -z-10"></div>
    <div id="animeBoy" class="absolute bottom-0 right-10 w-40 animate__animated animate__bounceIn"></div>
    <h1 class="text-6xl font-extrabold mb-4">Hi, I’m <span class="text-gray-400">K M VENKATACHALAM</span></h1>
    <p class="text-2xl mb-6 typing">Freelance Web Designer</p>
    <a href="#projects" class="px-8 py-3 bg-white text-black font-semibold rounded-lg shadow-lg hover:shadow-white/50 hover:scale-110 transition">View My Work</a>
  </section>

  <!-- About, Skills, Projects sections (same as before) -->
  <!-- ... -->

  <!-- Certificates Section -->
  <section id="certificates" class="py-20 bg-gray-900 px-6">
    <h2 class="text-4xl font-bold mb-6 text-center">Certificates</h2>
    <div class="grid md:grid-cols-3 gap-8">
      <div class="cursor-pointer" onclick="openModal(0)">
        <img src="assets/certificate1-preview.png" class="w-full h-48 object-contain rounded-lg shadow-md">
        <span class="block mt-2 text-center bg-white text-black px-4 py-2 rounded-lg">View PDF</span>
      </div>
      <div class="cursor-pointer" onclick="openModal(1)">
        <img src="assets/certificate2-preview.png" class="w-full h-48 object-contain rounded-lg shadow-md">
        <span class="block mt-2 text-center bg-white text-black px-4 py-2 rounded-lg">View PDF</span>
      </div>
      <div class="cursor-pointer" onclick="openModal(2)">
        <img src="assets/certificate3-preview.png" class="w-full h-48 object-contain rounded-lg shadow-md">
        <span class="block mt-2 text-center bg-white text-black px-4 py-2 rounded-lg">View PDF</span>
      </div>
    </div>
  </section>

  <!-- Certificate Modal -->
  <div id="modal" class="modal flex">
    <span class="close" onclick="closeModal()">&times;</span>
    <canvas id="pdfCanvas"></canvas>
    <div class="mt-4 flex gap-4">
      <button onclick="zoomIn()" class="px-4 py-2 bg-white text-black rounded-lg">Zoom In</button>
      <button onclick="zoomOut()" class="px-4 py-2 bg-white text-black rounded-lg">Zoom Out</button>
    </div>
  </div>

  <footer class="py-6 text-center bg-gray-900 text-gray-500">
    © 2025 K M VENKATACHALAM. All Rights Reserved.
  </footer>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.14.305/pdf.min.js"></script>
  <script>
    // Lottie Anime Boy Coding
    lottie.loadAnimation({
      container: document.getElementById('animeBoy'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: 'animeBoyCoding-dark.json'
    });

    // Certificates PDF.js
    const pdfFiles = [
      'assets/HTML_ADVANCE.pdf',
      'assets/HTML_AND_CSS.pdf',
      'assets/Landing_Page_Design.pdf'
    ];
    let currentPDF = 0;
    let pdfDoc = null;
    let pageNum = 1;
    let scale = 1.0;
    const canvas = document.getElementById('pdfCanvas');
    const ctx = canvas.getContext('2d');
    let isDragging = false, startX, startY, offsetX=0, offsetY=0;

    function renderPage(num){
      pdfDoc.getPage(num).then(function(page){
        const viewport = page.getViewport({scale: scale});
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        const renderContext = { canvasContext: ctx, viewport: viewport };
        page.render(renderContext);
      });
    }

    function openModal(index){
      currentPDF = index;
      document.getElementById('modal').style.display = 'flex';
      pdfjsLib.getDocument(pdfFiles[currentPDF]).promise.then(pdf=>{
        pdfDoc = pdf;
        pageNum = 1;
        scale = 1.0;
        renderPage(pageNum);
      });
    }

    function closeModal(){
      document.getElementById('modal').style.display = 'none';
      pdfDoc = null;
    }

    function zoomIn(){ scale += 0.25; renderPage(pageNum); }
    function zoomOut(){ scale = Math.max(0.5, scale-0.25); renderPage(pageNum); }

    // Dragging
    canvas.addEventListener('mousedown', e=>{ isDragging=true; startX=e.clientX; startY=e.clientY; canvas.style.cursor='grabbing'; });
    canvas.addEventListener('mouseup', e=>{ isDragging=false; canvas.style.cursor='grab'; });
    canvas.addEventListener('mousemove', e=>{
      if(isDragging){
        offsetX += e.clientX - startX;
        offsetY += e.clientY - startY;
        canvas.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(${scale})`;
        startX=e.clientX; startY=e.clientY;
      }
    });
  </script>
</body>
</html>
